{% extends 'layouts/head.html' %}
{% block head %}
<h1>{{ title }}</h1>

<form method="POST" action="">

  <div class="card-body">
    
    <!--Validación de errores-->
    {% csrf_token %} 
    {% if person_formset.errors or team_register_formset.errors %}
    <div class="alert alert-danger alert-dismissible">
      <button
        type="button"
        class="close"
        data-dismiss="alert"
        aria-hidden="true"
      >
        ×
      </button>
      <h4><i class="icon fa fa-ban"></i> Ha ocurrido un error</h4>
      {{ team_register_formset.errors.as_ul }} 
      {{ person_formset.errors.as_ul }} 
    </div>
    {% endif %}

    <label>Nombre del equipo</label>
    {{ team_form.nombre }}

    <label>Logo</label>
    {{ team_form.logo }}

    {{ person_formset.management_form }}
    <h4>Ingrese los campos</h4>
    {% for person_form in person_formset %}
        <div>
            {{ person_form.cedula }}
            {{ person_form.nombre }}
            {{ person_form.apellido }}
            {{ person_form.correo }}
            {{ person_form.nickname }}
        </div>
    {% endfor %}
    <h4>Roles de los usuarios</h4>
    {% for team_form in team_register_formset %}
        <div>
            {{ team_form.rol }}
        </div>
    {% endfor %}

    <label>Comentario (opcional)</label>
    {{ team_form.comentario }}
  </div>

  <div class="card-footer">
    <button type="submit" class="btn btn-primary btn-flat">
      <i class="fas fa-save"></i> {{ botton_title }}
    </button>
  </div>

</form>
{% endblock %}
